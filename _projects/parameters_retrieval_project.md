---
name: Effective electromagnetic parameters retrieval program
tools: [Python, Pandas, Numpy, Matplotlib, Literature Research]
image: ../images/parameters-retrieval-project-image.jpg
description: A program I wrote for my Ph.D. research. It takes the results of some material's simulation, and uses those results to compute and plot the material's effective parameters (permittivity, permeability...).
---

<h1><b>Effective electromagnetic parameters retrieval project</b></h1>
<br>
<div style="color: #CCCCCC">A program I wrote for my Ph.D. research. It takes the results of some material's simulation, and uses those results to compute and plot the material's effective parameters (permittivity, permeability...).</div>
<br>
<img src="../images/parameters-retrieval-project-image.jpg">
<div style="color: #BABABA; text-align:right">Photo by Joel Filipe on Unsplash</div>
<br>
<div style="background-color: #CEE6FF; border-width: 3px; border-color: #007BFF; border-style:solid; margin: 15px; padding: 15px">
<h2> In 60s or less:</h2>
  <div><b>EE major level explanation: </b>this program takes as input the values, over a given span of frequency, of the S-parameters generated by a simulation through the software CST Microwave Studio, and computes for each frequency the permittivity, permeability, impedance, refractive index, figure of merit, transmission and reflection effective parameters of the simulated material, outputting a set of plots of these parameters over the range of frequency over which the simulation was carried out.</div>
  <br>
  <p><b>In plain English:</b> this program takes in the result of a physics simulation of the material one wishes to study, and outputs plots of various characteristics of this material.</p>
  <div>Before using this program, you use the software CST Microwave Studio to make a simulation of light being shined upon a piece of material (say, glass) at various frequencies (frequency of blue light, frequency of red light...). The software returns four numbers for each frequency value. This program takes the lists of these four numbers over a certain span of frequency, computes physical characteristics (say, a value that indicates how much the material responds to magnetic waves) for each frequency and plots those characteristics as a function of frequency.</div>
</div>

<h2>Some more details:</h2>

The algorithm is based on the following paper:
Hsieh, Feng-Ju, and Wei-Chih Wang. [“Full extraction methods to retrieve effective refractive index and parameters of a bianisotropic metamaterial based on material dispersion models.”](https://aip.scitation.org/doi/full/10.1063/1.4752753?casa_token=xHGlMD94FbIAAAAA:YY1Ut2BzOVvrJ2qaQ4nMWqiqxmrBD1l0O9t8Xw53Yyu23K_guoP_HquBqAJgzXakLQQ6yrj8ZQE) Journal of Applied Physics 112.6 (2012): 064907.

At times, the following paper has also been used:
Chen, Xudong, et al. [“Robust method to retrieve the constitutive effective parameters of metamaterials.”](https://journals.aps.org/pre/pdf/10.1103/PhysRevE.70.016608?casa_token=wiemJYko8UIAAAAA%3AUivAP2Ai1PFI3QWCJXhM4SQNVA4Jrnw00TD1ZYq_kmcPPaWSWoHZg30TKz7d2ue_n-eBoHKt-Hiz_g) Physical Review E 70.1 (2004): 016608.

### Input files
4 files names S11a.txt, S11p.txt, S21a.txt, S21p.txt containing the transmission (S21) and reflection (S11) amplitude (suffix a) and phase (suffix p) generated by CST Microwave simulation. It should work with data obtained from other softwares but you will probably have to modify the code related to the conversion of the data from the .txt files to Pandas dataframe (e.g. for CST files the first two lines of each file are removed).

### Output files
9 graphs plotting the complex effective parameters (permittivity, permeability, impedance, refractive index, figure of merit, phase and amplitude of both transmission and reflection) over the range of frequency covered by the S-parameter input files.

### Parameters to adjust within the program before running
- `frequnit`: factor that converts the predetermined CST frequency unit (e.g. GHz, THz...) to Hz
- `lengthunit`: same as above but for length
- `L10`: distance between the material's front surface and port 1
- `L20`: distance between the material's back surface and port 2
- `SlabThick`: thickness of the simulated material
- `L1a`: effective front boundary of the simulated material, as determined by Hsieh's procedure
- `L2a`: effective back boundary of the simulated material, as determined by Hsieh's procedure

### Code
[The code is here](https://github.com/Rufski/PhD_work_Effective_parameters_retrieval_program)


